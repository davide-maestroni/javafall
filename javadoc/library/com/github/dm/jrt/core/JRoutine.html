<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Sep 06 23:00:22 CEST 2015 -->
<title>JRoutine (Javadoc - jroutine)</title>
<meta name="date" content="2015-09-06">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="JRoutine (Javadoc - jroutine)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/github/dm/jrt/core/InvocationTarget.html" title="class in com.github.dm.jrt.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/github/dm/jrt/core/RoutineBuilders.html" title="class in com.github.dm.jrt.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/github/dm/jrt/core/JRoutine.html" target="_top">Frames</a></li>
<li><a href="JRoutine.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.github.dm.jrt.core</div>
<h2 title="Class JRoutine" class="title">Class JRoutine</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.github.dm.jrt.core.JRoutine</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">JRoutine</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This utility class represents the entry point to the library by acting as a factory of routine
 builders.
 <p/>
 There are mainly two ways to create a routine object:
 <p/>
 <b>Routine by invocation customization</b><br/>
 The first approach consists in implementing an invocation object. Invocations mimic the scope of
 a function call. Objects are instantiated when needed and recycled for successive invocations.
 <p/>
 <b>Routine by method invocation</b><br/>
 The second approach is based on the asynchronous invocation of a method of an existing class or
 object via reflection.<br/>
 It is possible to annotate selected methods to be asynchronously invoked, or to simply select
 a method through its signature. It is also possible to build a proxy object whose methods will
 in turn asynchronously invoke the target object ones.<br/>
 Note that a proxy object can be simply defined as an interface implemented by the target, but
 also as a completely unrelated one mirroring the target methods. In this way it is possible to
 apply the library functionality to objects defined by third party libraries which are not under
 direct control.<br/>
 A mirror interface adds the possibility to override input and output parameters with output
 channels, so that data are transferred asynchronously, avoiding the need to block execution while
 waiting for them to be available.<br/>
 Finally, it also possible to create a wrapper class to enable asynchronous invocation of methods,
 through annotation pre-processing and compile-time code generation. In order to activate the
 processing of annotations, it is simply necessary to include the proxy artifact or module in the
 project dependencies.
 <p/>
 This class provides also a way to build transport channel instances, which can be used to pass
 data without the need to start a routine invocation.
 <p/>
 <b>Some usage examples</b>
 <p/>
 <b>Example 1:</b> Asynchronously merge the output of two routines.
 <pre>
     <code>

         final TransportChannel&lt;Result&gt; channel = JRoutine.transport().buildChannel();
         channel.pass(doSomething1.asyncCall())
                .pass(doSomething2.asyncCall())
                .close();
                .eventually()
                .allInto(results);
     </code>
 </pre>
 Or simply:
 <pre>
     <code>

         final OutputChannel&lt;Result&gt; output1 = doSomething1.asyncCall();
         final OutputChannel&lt;Result&gt; output2 = doSomething2.asyncCall();
         output1.eventually().allInto(results);
         output2.eventually().allInto(results);
     </code>
 </pre>
 (Note that, the order of the input or the output of the routine is not guaranteed unless properly
 configured)
 <p/>
 <b>Example 2:</b> Asynchronously concatenate the output of two routines.
 <pre>
     <code>

         doSomething2.asyncCall(doSomething1.asyncCall())).eventually().allInto(results);
     </code>
 </pre>
 <p/>
 <b>Example 3:</b> Asynchronously get the output of two routines.
 <pre>
     <code>

         public interface AsyncCallback {

             public void onResults(
                  &#64;Input(Result.class) OutputChannel&lt;Result&gt; result1,
                  &#64;Input(Result.class) OutputChannel&lt;Result&gt; result2);
         }

         final AsyncCallback callback = JRoutine.on(targetObject(myCallback))
                                                .buildProxy(AsyncCallback.class);
         callback.onResults(doSomething1.asyncCall(), doSomething2.asyncCall());
     </code>
 </pre>
 Where the object <code>myCallback</code> implements a method
 <code>public void onResults(Result result1, Result result2)</code>.
 <p/>
 <b>Example 4:</b> Asynchronously feed a routine from a different thread.
 <pre>
     <code>

         final TransportChannel&lt;Result&gt; channel = JRoutine.transport().buildChannel();

         new Thread() {

             &#64;Override
             public void run() {

                 channel.pass(new Result()).close();
             }

         }.start();

         final Routine&lt;Result, Result&gt; routine =
                  JRoutine.&lt;Result&gt;on(PassingInvocation.&lt;Result&gt;factoryOf())
                          .buildRoutine();
         routine.asyncCall(channel).eventually().allInto(results);
     </code>
 </pre>
 <p/>
 Created by davide-maestroni on 09/07/2014.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../com/github/dm/jrt/annotation/Alias.html" title="annotation in com.github.dm.jrt.annotation"><code>Alias</code></a>, 
<a href="../../../../../com/github/dm/jrt/annotation/Input.html" title="annotation in com.github.dm.jrt.annotation"><code>Input</code></a>, 
<a href="../../../../../com/github/dm/jrt/annotation/Inputs.html" title="annotation in com.github.dm.jrt.annotation"><code>Inputs</code></a>, 
<a href="../../../../../com/github/dm/jrt/annotation/Output.html" title="annotation in com.github.dm.jrt.annotation"><code>Output</code></a>, 
<a href="../../../../../com/github/dm/jrt/annotation/Priority.html" title="annotation in com.github.dm.jrt.annotation"><code>Priority</code></a>, 
<a href="../../../../../com/github/dm/jrt/annotation/ShareGroup.html" title="annotation in com.github.dm.jrt.annotation"><code>ShareGroup</code></a>, 
<a href="../../../../../com/github/dm/jrt/annotation/Timeout.html" title="annotation in com.github.dm.jrt.annotation"><code>Timeout</code></a>, 
<a href="../../../../../com/github/dm/jrt/annotation/TimeoutAction.html" title="annotation in com.github.dm.jrt.annotation"><code>TimeoutAction</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static &lt;IN,OUT&gt;&nbsp;<a href="../../../../../com/github/dm/jrt/builder/RoutineBuilder.html" title="interface in com.github.dm.jrt.builder">RoutineBuilder</a>&lt;IN,OUT&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/github/dm/jrt/core/JRoutine.html#on(com.github.dm.jrt.invocation.InvocationFactory)">on</a></strong>(<a href="../../../../../com/github/dm/jrt/invocation/InvocationFactory.html" title="class in com.github.dm.jrt.invocation">InvocationFactory</a>&lt;IN,OUT&gt;&nbsp;factory)</code>
<div class="block">Returns a routine builder based on the specified invocation factory.<br/>
 In order to prevent undesired leaks, the class of the specified factory must be static.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/github/dm/jrt/builder/ObjectRoutineBuilder.html" title="interface in com.github.dm.jrt.builder">ObjectRoutineBuilder</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/github/dm/jrt/core/JRoutine.html#on(com.github.dm.jrt.core.InvocationTarget)">on</a></strong>(<a href="../../../../../com/github/dm/jrt/core/InvocationTarget.html" title="class in com.github.dm.jrt.core">InvocationTarget</a>&nbsp;target)</code>
<div class="block">Returns a routine builder wrapping the specified target object.<br/>
 Note that it is responsibility of the caller to retain a strong reference to the target
 instance to prevent it from being garbage collected.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/github/dm/jrt/builder/TransportChannelBuilder.html" title="interface in com.github.dm.jrt.builder">TransportChannelBuilder</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/github/dm/jrt/core/JRoutine.html#transport()">transport</a></strong>()</code>
<div class="block">Returns a transport channel builder.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="on(com.github.dm.jrt.invocation.InvocationFactory)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>on</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
public static&nbsp;&lt;IN,OUT&gt;&nbsp;<a href="../../../../../com/github/dm/jrt/builder/RoutineBuilder.html" title="interface in com.github.dm.jrt.builder">RoutineBuilder</a>&lt;IN,OUT&gt;&nbsp;on(<a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                                         <a href="../../../../../com/github/dm/jrt/invocation/InvocationFactory.html" title="class in com.github.dm.jrt.invocation">InvocationFactory</a>&lt;IN,OUT&gt;&nbsp;factory)</pre>
<div class="block">Returns a routine builder based on the specified invocation factory.<br/>
 In order to prevent undesired leaks, the class of the specified factory must be static.</div>
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>IN</code> - the input data type.</dd><dd><code>OUT</code> - the output data type.</dd><dt><span class="strong">Parameters:</span></dt><dd><code>factory</code> - the invocation factory.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the routine builder instance.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the class of the specified factory is not
                                            static.</dd></dl>
</li>
</ul>
<a name="on(com.github.dm.jrt.core.InvocationTarget)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>on</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
public static&nbsp;<a href="../../../../../com/github/dm/jrt/builder/ObjectRoutineBuilder.html" title="interface in com.github.dm.jrt.builder">ObjectRoutineBuilder</a>&nbsp;on(<a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
                              <a href="../../../../../com/github/dm/jrt/core/InvocationTarget.html" title="class in com.github.dm.jrt.core">InvocationTarget</a>&nbsp;target)</pre>
<div class="block">Returns a routine builder wrapping the specified target object.<br/>
 Note that it is responsibility of the caller to retain a strong reference to the target
 instance to prevent it from being garbage collected.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>target</code> - the invocation target.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the routine builder instance.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the specified object class represents an
                                            interface.</dd></dl>
</li>
</ul>
<a name="transport()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>transport</h4>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/javax/annotation/Nonnull.html?is-external=true" title="class or interface in javax.annotation">@Nonnull</a>
public static&nbsp;<a href="../../../../../com/github/dm/jrt/builder/TransportChannelBuilder.html" title="interface in com.github.dm.jrt.builder">TransportChannelBuilder</a>&nbsp;transport()</pre>
<div class="block">Returns a transport channel builder.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the transport channel builder instance.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/github/dm/jrt/core/InvocationTarget.html" title="class in com.github.dm.jrt.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../com/github/dm/jrt/core/RoutineBuilders.html" title="class in com.github.dm.jrt.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/github/dm/jrt/core/JRoutine.html" target="_top">Frames</a></li>
<li><a href="JRoutine.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
